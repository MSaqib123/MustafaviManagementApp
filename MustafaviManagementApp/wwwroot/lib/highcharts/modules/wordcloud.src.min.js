!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(t._Highcharts,t._Highcharts.SeriesRegistry):"function"==typeof define&&define.amd?define("highcharts/modules/wordcloud",["highcharts/highcharts"],function(t){return e(t,t.SeriesRegistry)}):"object"==typeof exports?exports["highcharts/modules/wordcloud"]=e(t._Highcharts,t._Highcharts.SeriesRegistry):t.Highcharts=e(t.Highcharts,t.Highcharts.SeriesRegistry)}("undefined"==typeof window?this:window,(Z,$)=>(()=>{"use strict";var i={512:t=>{t.exports=$},944:t=>{t.exports=Z}},o={};function n(t){var e=o[t];if(void 0!==e)return e.exports;e=o[t]={exports:{}};return i[t](e,e.exports,n),e.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var t={},e=(n.d(t,{default:()=>Q}),n(944)),r=n.n(e);const R={draw:function(t,e){const{animatableAttribs:i,onComplete:o,css:n,renderer:r}=e;var a=t.series&&t.series.chart.hasRendered?void 0:t.series&&t.series.options.animation;let s=t.graphic;if(e.attribs={...e.attribs,class:t.getClassName()},t.shouldDraw())s||(s="text"===e.shapeType?r.text():"image"===e.shapeType?r.image(e.imageUrl||"").attr(e.shapeArgs||{}):r[e.shapeType](e.shapeArgs||{}),(t.graphic=s).add(e.group)),n&&s.css(n),s.attr(e.attribs).animate(i,!e.isNew&&a,o);else if(s){const l=()=>{t.graphic=s=s&&s.destroy(),"function"==typeof o&&o()};Object.keys(i).length?s.animate(i,void 0,()=>l()):l()}}};var e=n(512),e=n.n(e),{pointClass:a}=e().seriesTypes["column"]["prototype"];const s=r()["extend"];class l extends a{isValid(){return!0}}s(l.prototype,{weight:1});var a=l,h={allowExtendPlayingField:!0,animation:{duration:500},borderWidth:0,clip:!1,colorByPoint:!0,cropThreshold:1/0,minFontSize:1,maxFontSize:25,placementStrategy:"center",rotation:{from:0,orientations:2,to:90},showInLegend:!1,spiral:"rectangular",style:{fontFamily:"sans-serif",fontWeight:"900",whiteSpace:"nowrap"},tooltip:{followPointer:!0,pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}: <b>{point.weight}</b><br/>'}};const d=r()["deg2rad"],{extend:c,find:p,isNumber:g,isObject:u,merge:m}=r();function f(t,e){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)}function x(t){let e,a=t.axes||[];return a.length||(a=[],e=e=t.concat([t[0]]),e.reduce((t,e)=>{r=(n=e)[0]-t[0];const i=[[-(n=e[1]-t[1]),r],[n,-r]],o=i[0];var n,r;return p(a,t=>t[0]===o[0]&&t[1]===o[1])||a.push(o),e}),t.axes=a),a}function y(t,i){t=t.map(t=>{var e=t[0],t=t[1];return e*i[0]+t*i[1]});return{min:Math.min.apply(this,t),max:Math.max.apply(this,t)}}function b(o,n){const t=x(o),e=x(n),i=t.concat(e),r=!p(i,t=>{var e=o,i=n;return e=y(e,t),!!((i=y(i,t)).min>e.max||i.max<e.min)});return r}function w(i,t){function o(t){let e=f(n,t.rect);return e=e&&(i.rotation%90||t.rotation%90)?b(r,t.polygon):e}const n=i.rect,r=i.polygon,e=i.lastCollidedWith;let a=!1;return e&&!(a=o(e))&&delete i.lastCollidedWith,a=a||!!p(t,function(t){var e=o(t);return e&&(i.lastCollidedWith=t),e})}function M(t,e){var i=4*t,o=Math.ceil((Math.sqrt(i)-1)/2),n=t=>"boolean"==typeof t;let r=2*o+1,a=Math.pow(r,2),s=!1;return--r,t<=1e4&&(n(s)&&i>=a-r&&(s={x:o-(a-i),y:-o}),a-=r,n(s)&&i>=a-r&&(s={x:-o,y:-o+(a-i)}),a-=r,(s=n(s)?i>=a-r?{x:-o+(a-i),y:o}:{x:o,y:o-(a-i-r)}:s).x*=5,s.y*=5),s}function v(t,e){e=g(e)?e:14,e=Math.pow(10,e);return Math.round(t*e)/e}function S(t,e){var i=t[0],t=t[1],e=d*-e,o=Math.cos(e),e=Math.sin(e);return[v(i*o-t*e),v(i*e+t*o)]}function P(t,e,i){t=S([t[0]-e[0],t[1]-e[1]],i);return[t[0]+e[0],t[1]+e[1]]}var N={archimedeanSpiral:function(t,e){var e=(e=e.field).width*e.width+e.height*e.height,i=.8*t;let o=!1;return t<=1e4&&(o={x:i*Math.cos(i),y:i*Math.sin(i)},Math.min(Math.abs(o.x),Math.abs(o.y))<e||(o=!1)),o},extendPlayingField:function(t,e){let i,o,n,r,a,s,l,h;return h=u(t)&&u(e)?(i=e.bottom-e.top,o=e.right-e.left,n=t.ratioX,s=(a=i*(r=t.ratioY)<o*n?o:i)*n,l=a*r,m(t,{width:t.width+2*s,height:t.height+2*l})):t},getBoundingBoxFromPolygon:function(t){return t.reduce(function(t,e){var i=e[0],e=e[1];return t.left=Math.min(i,t.left),t.right=Math.max(i,t.right),t.bottom=Math.max(e,t.bottom),t.top=Math.min(e,t.top),t},{left:Number.MAX_VALUE,right:-Number.MAX_VALUE,bottom:-Number.MAX_VALUE,top:Number.MAX_VALUE})},getPlayingField:function(t,e,i){var i=i.reduce(function(t,e){var e=e.dimensions,i=Math.max(e.width,e.height);return t.maxHeight=Math.max(t.maxHeight,e.height),t.maxWidth=Math.max(t.maxWidth,e.width),t.area+=i*i,t},{maxHeight:0,maxWidth:0,area:0}),i=Math.max(i.maxHeight,i.maxWidth,.85*Math.sqrt(i.area)),o=e<t?t/e:1;return{width:i*o,height:i*(e=t<e?e/t:1),ratioX:o,ratioY:e}},getPolygon:function(t,e,i,o,n){const r=[t,e],a=t-i/2,s=t+i/2,l=e-o/2,h=e+o/2,d=[[a,l],[s,l],[s,h],[a,h]];return d.map(function(t){return P(t,r,-n)})},getRandomPosition:function(t){return Math.round(t*(Math.random()+.5)/2)},getRotation:function(t,e,i,o){let n=!1;return n=g(t)&&g(e)&&g(i)&&g(o)&&0<t&&-1<e&&i<o?i+e%t*((o-i)/(t-1||1)):n},getScale:function(t,e,i){var o=2*Math.max(Math.abs(i.top),Math.abs(i.bottom)),i=2*Math.max(Math.abs(i.left),Math.abs(i.right));return Math.min(0<i?1/i*t:1,0<o?1/o*e:1)},getSpiral:function(e,i){const o=[];for(let t=1;t<1e4;t++)o.push(e(t,i));return t=>t<=1e4&&o[t-1]},intersectionTesting:function(t,e){const i=e.placed,o=e.field,n=e.rectangle,r=e.polygon,a=e.spiral,s=t.rect=c({},n);let l=1,h={x:0,y:0};for(t.polygon=r,t.rotation=e.rotation;!1!==h&&(w(t,i)||function(t,e){const i=-e.width/2,o=e.width/2,n=-e.height/2,r=e.height/2;return!(i<t.left&&o>t.right&&n<t.top&&r>t.bottom)}(s,o));)h=a(l),u(h)&&(s.left=n.left+h.x,s.right=n.right+h.x,s.top=n.top+h.y,s.bottom=n.bottom+h.y,t.polygon=function(e,i,t){return t.map(function(t){return[t[0]+e,t[1]+i]})}(h.x,h.y,r)),l++;return h},isPolygonsColliding:b,isRectanglesIntersecting:f,rectangularSpiral:function(t,e){const i=M(t),o=e.field;return i&&(i.x*=o.ratioX,i.y*=o.ratioY),i},rotate2DToOrigin:S,rotate2DToPoint:P,squareSpiral:M,updateFieldBoundaries:function(t,e){return(!g(t.left)||t.left>e.left)&&(t.left=e.left),(!g(t.right)||t.right<e.right)&&(t.right=e.right),(!g(t.top)||t.top>e.top)&&(t.top=e.top),(!g(t.bottom)||t.bottom<e.bottom)&&(t.bottom=e.bottom),t}},A=r()["noop"],F=e().seriesTypes["column"];const{extend:z,isArray:W,isNumber:O,isObject:X,merge:_}=r(),{archimedeanSpiral:j,extendPlayingField:B,getBoundingBoxFromPolygon:Y,getPlayingField:E,getPolygon:L,getRandomPosition:T,getRotation:C,getScale:q,getSpiral:U,intersectionTesting:D,isPolygonsColliding:V,rectangularSpiral:k,rotate2DToOrigin:I,rotate2DToPoint:G,squareSpiral:J,updateFieldBoundaries:K}=N;class H extends F{pointAttribs(t,e){const i=r().seriesTypes.column.prototype.pointAttribs.call(this,t,e);return delete i.stroke,delete i["stroke-width"],i}deriveFontSize(t,e,i){t=O(t)?t:0,e=O(e)?e:1,i=O(i)?i:1;return Math.floor(Math.max(i,t*e))}drawPoints(){const i=this,o=i.hasRendered,t=i.xAxis,e=i.yAxis,n=i.chart,r=i.group,a=i.options,s=a.animation,l=a.allowExtendPlayingField,h=n.renderer,d=[],c=i.placementStrategy[a.placementStrategy],p=a.rotation,g=i.points.map(function(t){return t.weight}),u=Math.max.apply(null,g),m=i.points.concat().sort((t,e)=>e.weight-t.weight);let f=h.text().add(r),x;i.group.attr({scaleX:1,scaleY:1});for(const M of m){var y=1/u*M.weight,y=i.deriveFontSize(y,a.maxFontSize,a.minFontSize),y=z({fontSize:y+"px"},a.style),y=(f.css(y).attr({x:0,y:0,text:M.name}),f.getBBox(!0));M.dimensions={height:y.height,width:y.width}}x=E(t.len,e.len,m);var b=U(i.spirals[a.spiral],{field:x});for(const v of m){const S=1/u*v.weight,P=i.deriveFontSize(S,a.maxFontSize,a.minFontSize),A=z({fontSize:P+"px"},a.style),F=c(v,{data:m,field:x,placed:d,rotation:p}),T=z(i.pointAttribs(v,v.selected&&"select"),{align:"center","alignment-baseline":"middle","dominant-baseline":"middle",x:F.x,y:F.y,text:v.name,rotation:O(F.rotation)?F.rotation:void 0}),C=L(F.x,F.y,v.dimensions.width,v.dimensions.height,F.rotation),H=Y(C);let t=D(v,{rectangle:H,polygon:C,field:x,placed:d,spiral:b,rotation:F.rotation}),e;!t&&l&&(x=B(x,H),t=D(v,{rectangle:H,polygon:C,field:x,placed:d,spiral:b,rotation:F.rotation})),X(t)?(T.x=(T.x||0)+t.x,T.y=(T.y||0)+t.y,H.left+=t.x,H.right+=t.x,H.top+=t.y,H.bottom+=t.y,x=K(x,H),d.push(v),v.isNull=!1,v.isInside=!0):v.isNull=!0,s&&(e={x:T.x,y:T.y},o?(delete T.x,delete T.y):(T.x=0,T.y=0)),R.draw(v,{animatableAttribs:e,attribs:T,css:A,group:r,renderer:h,shapeArgs:void 0,shapeType:"text"})}f=f.destroy();var w=q(t.len,e.len,x);i.group.attr({scaleX:w,scaleY:w})}hasData(){return X(this)&&!0===this.visible&&W(this.points)&&0<this.points.length}getPlotBox(){var t=this.chart,e=t.inverted,i=this[e?"yAxis":"xAxis"],e=this[e?"xAxis":"yAxis"],o=i?i.len:t.plotWidth,n=e?e.len:t.plotHeight;return{translateX:(i?i.left:t.plotLeft)+o/2,translateY:(e?e.top:t.plotTop)+n/2,scaleX:1,scaleY:1}}}H.defaultOptions=_(F.defaultOptions,h),z(H.prototype,{animate:A,animateDrilldown:A,animateDrillupFrom:A,isCartesian:!1,pointClass:a,setClip:A,placementStrategy:{random:function(t,e){var i=e.field,e=e.rotation;return{x:T(i.width)-i.width/2,y:T(i.height)-i.height/2,rotation:C(e.orientations,t.index,e.from,e.to)}},center:function(t,e){e=e.rotation;return{x:0,y:0,rotation:C(e.orientations,t.index,e.from,e.to)}}},pointArrayMap:["weight"],spirals:{archimedean:j,rectangular:k,square:J},utils:{extendPlayingField:B,getRotation:C,isPolygonsColliding:V,rotate2DToOrigin:I,rotate2DToPoint:G}}),e().registerSeriesType("wordcloud",H);const Q=r();return t.default})());