import*as e from"../highcharts.js";import"../modules/stock.js";var t={n:e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},d:(e,r)=>{for(var a in r)t.o(r,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:r[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};let r=e.default;var a=t.n(r);t.d({},{});let s=e.default.SeriesRegistry;var l=t.n(s);let u=l().seriesTypes["sma"],{error:o,isArray:i,merge:p}=a();class n extends u{getValues(e,t){let r=e.chart,a=e.xData,s=e.yData,l=t.period,u=!0,n;if(n=r.get(t.volumeSeriesID))return i(s[0])||(u=!1),this.calculateVWAPValues(u,a,s,n,l);o("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,r)}calculateVWAPValues(e,t,r,a,s){let l,u,o,i,n,p,d=a.getColumn("y"),h=d.length,m=t.length,v=[],c=[],f=[],g=[],y=[];for(n=0,l=m<=h?m:h,p=0;n<l;n++)u=(e?(r[n][1]+r[n][2]+r[n][3])/3:r[n])*d[n],o=p?v[n-1]+u:u,i=p?c[n-1]+d[n]:d[n],v.push(o),c.push(i),y.push([t[n],o/i]),f.push(y[n][0]),g.push(y[n][1]),++p===s&&(p=0);return{values:y,xData:f,yData:g}}}n.defaultOptions=p(u.defaultOptions,{params:{index:void 0,period:30,volumeSeriesID:"volume"}}),l().registerSeriesType("vwap",n);let d=a();export{d as default};